<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ball Ball U - Server Test Client</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
            <div class="header">
            <h1>ğŸ® Ball Ball U - Server Test Client</h1>
            <p>WebSocket will connect to: <span id="wsUrl">ws://localhost:8000</span> (auto-detected)</p>
            <div class="status disconnected" id="status">â— Disconnected</div>
        </div>

        <div class="main-content">
            <!-- Left Panel - Controls -->
            <div class="panel">
                <h2>ğŸ›ï¸ Controls</h2>
                
                <div class="control-group">
                    <label for="serverUrl">Server URL</label>
                    <input type="text" id="serverUrl" value="ws://127.0.0.1:8000">
                </div>

                <button class="btn-primary" onclick="connect()" id="connectBtn">
                    ğŸ”Œ Connect
                </button>

                <button class="btn-danger" onclick="disconnect()" id="disconnectBtn" disabled>
                    ğŸ”Œ Disconnect
                </button>

                <hr>

                <div class="control-group">
                    <label for="playerName">Player Name</label>
                    <input type="text" id="playerName" value="TestPlayer" placeholder="Enter your name">
                </div>

                <button class="btn-success" onclick="joinGame()" id="joinBtn" disabled>
                    âœ… Join Game
                </button>

                <hr>

                <h3>Movement (WASD)</h3>
                <div class="movement-grid">
                    <button class="btn-secondary arrow-up" onclick="move(0, -1)" id="moveUp" disabled>â†‘ W</button>
                    <button class="btn-secondary arrow-left" onclick="move(-1, 0)" id="moveLeft" disabled>â† A</button>
                    <button class="btn-secondary arrow-down" onclick="move(0, 1)" id="moveDown" disabled>â†“ S</button>
                    <button class="btn-secondary arrow-right" onclick="move(1, 0)" id="moveRight" disabled>â†’ D</button>
                </div>

                <button class="btn-secondary" onclick="stopMovement()" id="stopBtn" disabled style="margin-top: 10px;">
                    â¸ï¸ Stop
                </button>

                <hr>

                <button class="btn-secondary" onclick="sendQuit()" id="quitBtn" disabled>
                    ğŸšª Quit Game
                </button>
            </div>

            <!-- Right Panel - Game State & Messages -->
            <div class="panel">
                <h2>ğŸ“Š Game State</h2>
                
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-label">Current Tick</div>
                        <div class="stat-value" id="tickValue">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Players Online</div>
                        <div class="stat-value" id="playersCount">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Your Score</div>
                        <div class="stat-value" id="yourScore">-</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Dots Remaining</div>
                        <div class="stat-value" id="dotsCount">0</div>
                    </div>
                </div>

                <h3>ğŸ‘¥ Players</h3>
                <ul class="players-list" id="playersList">
                    <li class="empty-state">No players</li>
                </ul>

                <div class="dots-info">
                    <strong>ğŸ”´ Dots:</strong> <span id="dotsInfo">-</span>
                </div>

                <hr>

                <div class="flex-header">
                    <h3>ğŸ“¨ Message Log</h3>
                    <button class="btn-secondary clear-btn" onclick="clearMessages()">ğŸ—‘ï¸ Clear</button>
                </div>
                <div class="message-log" id="messageLog">
                    <div class="empty-state">No messages yet</div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
